(this.webpackJsonpproportional_co2=this.webpackJsonpproportional_co2||[]).push([[0],{113:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(55),c=n.n(a),i=(n(113),n(13)),s=n(14),u=n(15),l=n(16),p=n(2),d=n(0),g=function(e){var t,n=e.onYearChange;e.currentYear;return Object(d.jsx)("div",{children:Object(d.jsx)("input",(t={id:"sliderbar",style:{width:"50%",alignItems:"center",marginLeft:"25%",zIndex:5},type:"range"},Object(p.a)(t,"id","volume"),Object(p.a)(t,"min","1809"),Object(p.a)(t,"max","2019"),Object(p.a)(t,"step","10"),Object(p.a)(t,"onChange",n),t))})},h=n(61),b=n(5),j=n(60),f=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).myRef=o.a.createRef(),r}return Object(s.a)(n,[{key:"getGDP",value:function(e){var t=e.properties;return 1e6*t.GDP_MD_EST/t.POP_EST}},{key:"getYearCo2",value:function(e,t){var n=e.properties;t||(t=this.props.currentYear);try{return"FK"===n.ISO_A2||"TF"===n.ISO_A2||"NC"===n.ISO_A2||NaN===n[t].co2||isNaN(1*n[t].co2)||1*n[t].co2===null||1*n[t].co2==="undefined"||1*n[t].co2===NaN?(console.log("No co2 data for year",t,"country:",n.NAME),1):1*n[t].co2}catch(r){return 1}}},{key:"renderMap",value:function(){var e=this,t=this.myRef.current;b.c("./countries_with_co2.json").then((function(n){n.objects.countries.geometries.splice(n.objects.countries.geometries.findIndex((function(e){return"AQ"===e.properties.ISO_A2})),1),console.log("incoming world",n);var r=b.d(b.b).domain([0,Math.max.apply(Math,Object(h.a)(n.objects.countries.geometries.map(e.getGDP)))]);e.props.currentYear;b.e("#volume").append("svg"),Object(j.a)().topoJson(n).topoObjectName("countries").value((function(t){return e.getYearCo2(t,e.props.year)})).color((function(t){return r(e.getGDP(t))})).label((function(e){var t=e.properties;return"co2 produced by ".concat(t.NAME," (").concat(t.ISO_A2,")")})).units(" Million tons").valFormatter(b.a(".0f"))(t),b.e(t).append("text").style("text-anchor","middle").style("margin-left","38.5%").style("padding-top","-100%").style("padding-left","10%").style("padding-right","10%").style("border","2px solid black").style("background-clip","content-box").text("".concat(e.props.currentYear))})).catch((function(e){return console.log("incomgin ERr",e)}))}},{key:"componentDidMount",value:function(){this.renderMap()}},{key:"componentDidUpdate",value:function(){this.renderMap()}},{key:"render",value:function(){return Object(d.jsx)("div",{ref:this.myRef})}}]),n}(r.Component),y={year:1809},m=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onYearChange=function(e){console.log("calling year year chage",e.target.value),r.setState({year:e.target.value}),setTimeout((function(){window.scrollTo({top:document.body.scrollHeight,left:0,behavior:"smooth"})}),850)},r.state=y,r}return Object(s.a)(n,[{key:"getGDPPerCapita",value:function(e){var t=e.properties;return 1e6*t.GDP_MD_EST/t.POP_EST}},{key:"render",value:function(){return Object(d.jsxs)("div",{ref:this.myRef,children:[Object(d.jsx)("div",{children:Object(d.jsx)("h3",{style:{textAlign:"center",marginBottom:"-10%",marginLeft:"80px",backgroundColor:"white"},children:"Countries scaled by co2 emission"})}),Object(d.jsx)(f,{getGDPPerCapita:this.getGDPPerCapita,currentYear:this.state.year}),Object(d.jsxs)("div",{style:{marginTop:"-8%"},children:[Object(d.jsxs)("h5",{style:{textAlign:"center",marginTop:"-12%"},children:["Year: ",this.state.year]}),Object(d.jsx)(g,{onYearChange:this.onYearChange,currentYear:this.state.year})]})]})}}]),n}(o.a.Component),O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,121)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),o(e),a(e),c(e)}))};c.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(m,{})}),document.getElementById("root")),O()}},[[117,1,2]]]);
//# sourceMappingURL=main.61a13528.chunk.js.map